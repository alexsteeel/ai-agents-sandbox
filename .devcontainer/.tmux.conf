# List of plugins
set -g @plugin 'tmux-plugins/tpm'                     # Tmux Plugin Manager
set -g @plugin 'tmux-plugins/tmux-sensible'           # Sensible default settings for tmux
set -g @plugin 'tmux-plugins/tmux-resurrect'          # Restore tmux environment after system restart
set -g @plugin 'tmux-plugins/tmux-continuum'          # Continuous saving of tmux environment
set -g @plugin 'dracula/tmux'                         # Dracula theme for tmux

# Set 256 colors for better color schemes
set -s default-terminal 'xterm-256color'

# Dracula theme configuration
set -g @dracula-show-left-icon window
set -g @dracula-plugins "kubernetes-context cpu-usage ram-usage time"

# Enable automatic restoration of tmux environment
set -g @continuum-restore 'on'

# Key bindings for Home and End keys
bind-key -n Home send Escape "OH"
bind-key -n End send Escape "OF"

# Enable mouse support
set -g mouse on

# Additional suggested improvements

# Reload tmux configuration file with prefix + R
bind R source-file ~/.tmux.conf \; display "Reloaded tmux.conf"

# Enable vi mode for copy mode
setw -g mode-keys vi

# Set a custom status bar configuration
set -g status-left "#[fg=green]#H #[fg=yellow]#(whoami)"
set -g status-right "#[fg=cyan]%Y-%m-%d #[fg=magenta]%H:%M:%S"

# Set window title format
setw -g automatic-rename on
setw -g automatic-rename-format "#{?pane_in_mode,[tmux],#{pane_current_command}}"

# Improve pane navigation (prefix + arrow key)
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# Split windows using | and -
bind | split-window -h
bind - split-window -v

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
